<app-navbar></app-navbar>

<div class="auth-page container">
  <div class="auth-card">
    <h2>Register</h2>
    <form #regForm="ngForm" (ngSubmit)="onSubmit(regForm)">
      <div class="mb-2">
        <label class="form-label">Name</label>
        <input name="name" [(ngModel)]="model.name" required pattern="^[a-zA-Z0-9 ]+$" class="form-control" #nameFld="ngModel" />
        <div class="text-danger" *ngIf="(nameFld.invalid && (nameFld.dirty || nameFld.touched))">
          <div *ngIf="nameFld.errors?.['required']">Name is required.</div>
          <div *ngIf="nameFld.errors?.['pattern']">Only letters, numbers, and spaces are allowed.</div>
        </div>
      </div>

      <div class="mb-2">
        <label class="form-label">Email</label>
        <input name="email" [(ngModel)]="model.email" required email class="form-control" #emailFld="ngModel" />
        <div class="text-danger" *ngIf="(emailFld.invalid && (emailFld.dirty || emailFld.touched))">
          <div *ngIf="emailFld.errors?.['required']">Email is required.</div>
          <div *ngIf="emailFld.errors?.['email']">Enter a valid email.</div>
        </div>
      </div>

      <div class="mb-2">
        <label class="form-label">Password</label>
        <input name="password" [(ngModel)]="model.password" required minlength="6" type="password" class="form-control" #pwd="ngModel" />
        <div class="text-danger" *ngIf="(pwd.invalid && (pwd.dirty || pwd.touched))">
          <div *ngIf="pwd.errors?.['required']">Password is required.</div>
          <div *ngIf="pwd.errors?.['minlength']">Password must be at least 6 characters.</div>
        </div>
      </div>

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="regForm.invalid">Register</button>
      </div>

      <div class="text-center mt-3">
        <p>Already have an account? <a routerLink="/login">Login here</a></p>
      </div>
    </form>
  </div>
</div>
